<!doctype html>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">

        <link rel="icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

        <!-- Primary Meta Tags -->
        <meta name="exp-export-timestamp" content="2024-10-09T09:36:27.260+0000">
        <meta name="exp-page-id" content="371000245">
        <meta name="exp-page-title" content="JWT Authorizer">
        <meta name="exp-page-version" content="3">
        <meta name="exp-page-scroll-page-id" content="ce5dd3ada683cc602a0985a400a78eca">
        <meta name="exp-page-created" content="2022-12-19T08:15:21.000+0000">
        <meta name="exp-page-last-modified" content="2024-04-04T09:03:20.862+0000">
        <meta name="exp-page-labels" content="">
        <meta name="exp-page-context-keys" content="">
        <meta name="exp-space-key" content="SSDOCS">
        <meta name="exp-space-title" content="SignServer Documentation">

        <!-- Additional Meta Tags -->
        <meta name="exp-document-id" content="371111034">
        <meta name="exp-document-title" content="SignServer Documentation">
        <meta name="exp-version-status" content="in-progress">
        <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
        <meta name="exp-version-name" content="Working version">
        <meta name="exp-version-description" content="">
        <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
        <meta name="exp-variant-id" content="">
        <meta name="exp-variant-name" content="">
        <meta name="exp-variant-description" content="">
        <meta name="exp-language-code" content="">
        <meta name="exp-language-name" content="">

        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/image-dimensions.css">


            
            
<script src="js/search.js"></script>
            <script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
        <title>JWT Authorizer</title>

    <meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>

    <body id="JWTAuthorizer-top" data-pageid="371000245" data-confluence-editor-version="v1" data-confluence-deployment-type="CLOUD">

        <div class="exp-grid-container">

            <header class="exp-header"></header>

            <div class="exp-logo">
                <a href="SignServer_Documentation.html">
                    <span class="exp-logo-image" style="background-image: url(_scroll_external/attachments/e415105eb31a/ssdocs)" alt="SignServer Documentation" title="SignServer Documentation"></span>
                </a>
            </div>

            <div class="exp-document-title">
                <h1 class="exp-document-title-heading scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h1 scroll-relative-h1" data-scroll-heading-rank="1" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="1" id="no-src_generated-id-480cdca96c02d39f99c7df1e78bd39e3b8682e4a605e2668991d44d67be71814">
                    <a href="SignServer_Documentation.html">
                        SignServer Documentation
                    </a>
                </h1>
            </div>

<div class="exp-search-container">
    <input type="search" id="search-textbox" autocomplete="off" class="exp-search-input" style="margin-right: 0;">
    <div class="exp-search-input-icon">
        <svg data-exp-id="magnifier-icon" data-exp-component="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 20 20" fill="none" aria-hidden="true">
            <path d="M8.99452 14.5C10.5121 14.5 11.809 13.9669 12.8854 12.9007C13.9618 11.8345 14.5 10.5361 14.5 9.00548C14.5 7.48794 13.9631 6.19097 12.8893 5.11458C11.8155 4.03819 10.519 3.5 9 3.5C7.46786 3.5 6.16816 4.0369 5.1009 5.11071C4.03363 6.18453 3.5 7.48096 3.5 9C3.5 10.5321 4.0331 11.8318 5.09929 12.8991C6.1655 13.9664 7.46391 14.5 8.99452 14.5ZM9 16C8.02913 16 7.11974 15.816 6.27185 15.4479C5.42395 15.0799 4.68056 14.5799 4.04167 13.9479C3.40278 13.316 2.90278 12.576 2.54167 11.728C2.18056 10.88 2 9.97053 2 8.99956C2 8.04152 2.18403 7.13542 2.55208 6.28125C2.92014 5.42708 3.41864 4.68387 4.04758 4.0516C4.67653 3.41935 5.41569 2.91935 6.26508 2.5516C7.11449 2.18387 8.02548 2 8.99806 2C9.95769 2 10.8646 2.18403 11.7188 2.55208C12.5729 2.92014 13.316 3.42014 13.9479 4.05208C14.5799 4.68403 15.0799 5.42612 15.4479 6.27835C15.816 7.13058 16 8.0381 16 9.00094C16 9.83365 15.8615 10.6213 15.5846 11.3638C15.3078 12.1062 14.9254 12.7836 14.4375 13.3958L18 16.9583L16.9375 18L13.375 14.4583C12.7668 14.9459 12.0939 15.3247 11.3564 15.5948C10.6188 15.8649 9.83333 16 9 16Z" fill="currentColor" />
        </svg>
    </div>
    <div id="search-suggestion-container" class="exp-search-suggestion-panel" data-exp-component="search-suggestion"></div>
    <template id="exp-search-suggestion-option-template">
        <div class="exp-search-suggestion-option-container search-form-suggestion">
            <a class="exp-search-suggestion-option search-form-suggestion" href=""></a>
        </div>
    </template>
</div>


            <nav class="exp-sidebar-navigation">
                <div class="exp-sidebar-navigation-sticky-wrapper">
                    <iframe src="toc.html?pageId=371000245" border="0"></iframe>
                </div>

            </nav>


            <nav aria-label="Breadcrumb" class="exp-breadcrumbs-wrapper">
                <ol class="breadcrumbs">
                        <li class="breadcrumb">
                            <a href="SignServer_Documentation.html" rel="prev" target="_self">SignServer Documentation</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="SignServer_Reference.html" rel="prev" target="_self">SignServer Reference</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="SignServer_Components.html" rel="prev" target="_self">SignServer Components</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="Authorizers.html" rel="prev" target="_self">Authorizers</a>
                        </li>
                    <li class="breadcrumb active" aria-current="page">
                        JWT Authorizer
                    </li>
                </ol>
            </nav>


            <main class="exp-content">
                <article role="article">

                    <header>
                        <h1 class="article-heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-b83cd4021426ba802c07207a841c3eeb520b73fb83e976edfd4207121bdb026f">
                            JWT Authorizer
                        </h1>
                    </header>

                    <section class="page" id="content" role="main">
                        <div id="main-content" class="wiki-content article-content js-tocBot-content">
                            <p><style>[data-colorid=i2kimh0r93]{color:#0e101a} html[data-color-mode=dark] [data-colorid=i2kimh0r93]{color:#e5e7f1}[data-colorid=hv2t10pgnv]{color:#4a6ee0} html[data-color-mode=dark] [data-colorid=hv2t10pgnv]{color:#1f43b5}[data-colorid=m2nrt80jgs]{color:#0e101a} html[data-color-mode=dark] [data-colorid=m2nrt80jgs]{color:#e5e7f1}[data-colorid=htdbu7go8e]{color:#0e101a} html[data-color-mode=dark] [data-colorid=htdbu7go8e]{color:#e5e7f1}[data-colorid=xjg2huc82w]{color:#0e101a} html[data-color-mode=dark] [data-colorid=xjg2huc82w]{color:#e5e7f1}[data-colorid=l4y9fr76ru]{color:#4a6ee0} html[data-color-mode=dark] [data-colorid=l4y9fr76ru]{color:#1f43b5}[data-colorid=elcn6ksflh]{color:#0e101a} html[data-color-mode=dark] [data-colorid=elcn6ksflh]{color:#e5e7f1}[data-colorid=q6vm4hzhia]{color:#0e101a} html[data-color-mode=dark] [data-colorid=q6vm4hzhia]{color:#e5e7f1}[data-colorid=jc4nwwbdnk]{color:#0e101a} html[data-color-mode=dark] [data-colorid=jc4nwwbdnk]{color:#e5e7f1}[data-colorid=z00y9j2w06]{color:#0e101a} html[data-color-mode=dark] [data-colorid=z00y9j2w06]{color:#e5e7f1}[data-colorid=qqh465qbw9]{color:#0e101a} html[data-color-mode=dark] [data-colorid=qqh465qbw9]{color:#e5e7f1}[data-colorid=ipoza1q5kf]{color:#0e101a} html[data-color-mode=dark] [data-colorid=ipoza1q5kf]{color:#e5e7f1}[data-colorid=yb4tfb97t9]{color:#0e101a} html[data-color-mode=dark] [data-colorid=yb4tfb97t9]{color:#e5e7f1}[data-colorid=gybk8r559n]{color:#0e101a} html[data-color-mode=dark] [data-colorid=gybk8r559n]{color:#e5e7f1}[data-colorid=fy32ldnqw5]{color:#0e101a} html[data-color-mode=dark] [data-colorid=fy32ldnqw5]{color:#e5e7f1}</style><span style="color: rgb(0,0,0);"><span class="status-macro aui-lozenge aui-lozenge-complete">enterprise</span></span></p><p><span style="color: rgb(0,0,0);">The JWT Authorizer is used to authorize signature requests based on the provided JSON Web Token (JWT) included in the request. </span></p><p><span style="color: rgb(0,0,0);">AUTHTYPE=<strong>org.signserver.server.jwtauth.JwtAuthorizer</strong></span></p><h2 id="JWTAuthorizer-Introduction" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2"><span style="color: rgb(0,0,0);">Introduction</span></h2><p><span style="color: rgb(0,0,0);">JSON Web Token (JWT) is an internet standard for JSON-based token authentication. JWTs allow you to digitally sign information (referred to as claims) with a signature and can be verified at a later time with the public key of the issuer. JWT claims are typically used to pass the identity of authenticated users between an&nbsp;<span data-colorid="xjg2huc82w">authorization server</span> and a <span data-colorid="gybk8r559n">resource server</span>. The JWT Authorizer allows having the&nbsp;authorization server separate from the SignServer application.</span></p><h3 id="JWTAuthorizer-UseCaseExample" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3"><span data-colorid="yb4tfb97t9">Use Case Example</span></h3><p><span data-colorid="m2nrt80jgs">There are several authorization servers available and this implementation has been tested with&nbsp;</span><a class="external-link scroll-external-link" href="https://www.keycloak.org/" rel="nofollow" shape="rect" data-scroll-link-type="default" data-scroll-link-target="https://www.keycloak.org/" data-scroll-link-local="false"><span data-colorid="hv2t10pgnv">Keycloak</span></a><span data-colorid="elcn6ksflh">. The following use case example outlines authenticating with Keycloak (as the authorization server) to obtain a signed token, then used in the request sent from the client to SignServer (the resource server). The client in the following overview could, for example, be an app using </span><a class="external-link scroll-external-link" href="https://openid.net/connect/" rel="nofollow" shape="rect" data-scroll-link-type="default" data-scroll-link-target="https://openid.net/connect/" data-scroll-link-local="false"><span data-colorid="l4y9fr76ru">OpenID Connect</span></a><span data-colorid="fy32ldnqw5">&nbsp;(OIDC). <br clear="none"></span></p><p><span style="color: rgb(0,0,0);"></span></p><div class="scroll-diagram-macro-wrapper"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><style>[data-colorid=hv2t10pgnv]{color:#4a6ee0} html[data-color-mode=dark] [data-colorid=hv2t10pgnv]{color:#1f43b5}[data-colorid=fy32ldnqw5]{color:#0e101a} html[data-color-mode=dark] [data-colorid=fy32ldnqw5]{color:#e5e7f1}[data-colorid=gybk8r559n]{color:#0e101a} html[data-color-mode=dark] [data-colorid=gybk8r559n]{color:#e5e7f1}[data-colorid=yb4tfb97t9]{color:#0e101a} html[data-color-mode=dark] [data-colorid=yb4tfb97t9]{color:#e5e7f1}[data-colorid=elcn6ksflh]{color:#0e101a} html[data-color-mode=dark] [data-colorid=elcn6ksflh]{color:#e5e7f1}[data-colorid=l4y9fr76ru]{color:#4a6ee0} html[data-color-mode=dark] [data-colorid=l4y9fr76ru]{color:#1f43b5}[data-colorid=xjg2huc82w]{color:#0e101a} html[data-color-mode=dark] [data-colorid=xjg2huc82w]{color:#e5e7f1}[data-colorid=m2nrt80jgs]{color:#0e101a} html[data-color-mode=dark] [data-colorid=m2nrt80jgs]{color:#e5e7f1}</style><img class="confluence-embedded-image confluence-external-resource scroll-document-image" height="176" width="296" src="_scroll_external/attachments/f3fc3c973040/signserver-and-authorization-server.png" data-image-src="/wiki/download/attachments/371000245/SignServer%20and%20Authorization%20Server.png?api=v2" loading="lazy"></span></div><p></p><ol><li><span style="color: rgb(0,0,0);"><strong>Public key trusted</strong>: The worker in SignServer is configured to trust the authorization server's public key. Authorization rules matching claims from the tokens are also configured.<br clear="none"></span></li><li><span style="color: rgb(0,0,0);"><strong>Credentials</strong>: The client authenticates toward the authorization server using its credentials.</span></li><li><span style="color: rgb(0,0,0);"><strong>Token</strong>: The authorization server creates and signs a token using its private key and returns it to the client.</span></li><li><span style="color: rgb(0,0,0);"><strong>Request with token</strong>: The client sends its request to SignServer and includes the token.</span></li><li><span style="color: rgb(0,0,0);"><strong>Response</strong>: SignServer verifies the token (including its signature and validity etcetera) and matches its claims against the configured authorization rules. If a rule matches, the request is processed and the response is returned to the client.</span></li></ol><p>JWT Authorizer can be used in conjunction with <span style="color: rgb(0,0,0);"><a href="OneTimeCryptoWorker.html" data-linked-resource-id="371000102" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="371000102" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000102/OneTimeCryptoWorker" data-scroll-link-target-source-id="371000102">OneTimeCryptoWorker</a> for EJBCA Peers CA Connector introducing additional information for issuing certificates via claims of a JWT.</span></p><h2 id="JWTAuthorizer-Configuration" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2"><span style="color: rgb(0,0,0);">Configuration</span></h2><p><span data-colorid="htdbu7go8e">Several trusted authorization servers can be set up using indexed worker properties starting with an AUTHSERVER prefix. </span></p><p><span data-colorid="ipoza1q5kf">Currently, the algorithm types RSA and ECDSA are supported and public keys use RSA by default. To use ECDSA, set the key algorithm to&nbsp;</span><strong><span data-colorid="qqh465qbw9">EC</span></strong><span data-colorid="z00y9j2w06">&nbsp;or&nbsp;</span><strong><span data-colorid="jc4nwwbdnk">ECDSA</span></strong><span data-colorid="i2kimh0r93">&nbsp;(AUTHSERVERn.KEYALG=ECDSA). It is also allowed to explicitly set the key algorithm to <strong>RSA,</strong> but not needed as this is the default.</span></p><p><span style="color: rgb(0,0,0);"><span data-colorid="q6vm4hzhia">The issuer field needs to be matched to the value provided as the Issuer Claim (iss) in the tokens, according to the following example. For more information on Issuer Claim (iss), refer to </span></span><span style="color: rgb(0,0,0);"><a class="external-link scroll-external-link" href="https://tools.ietf.org/html/rfc7519#section-4.1.1" rel="nofollow" shape="rect" data-scroll-link-type="default" data-scroll-link-target="https://tools.ietf.org/html/rfc7519#section-4.1.1" data-scroll-link-local="false">RFC 7519, section 4.1.1. "iss" (Issuer) Claim.</a></span></p><ul><li><span style="color: rgb(0,0,0);">AUTHSERVER1.ISSUER=&lt;issuer&gt;</span></li><li><span style="color: rgb(0,0,0);">AUTHSERVER1.PUBLICKEY=&lt;base 64-encoded public key of issuer&gt;</span></li><li><span style="color: rgb(0,0,0);">…</span></li><li><span style="color: rgb(0,0,0);">AUTHSERVERn.ISSUER=&lt;issuer&gt;</span></li><li><span style="color: rgb(0,0,0);">AUTHSERVERn.PUBLICKEY=&lt;base 64-encoded public key of issuer&gt;</span></li><li><span style="color: rgb(0,0,0);">AUTHSERVERn.KEYALG=ECDSA</span></li></ul><p><span style="color: rgb(0,0,0);">Each issuer needs a matching rule for matching on the claims in the token:</span></p><ul><li><span style="color: rgb(0,0,0);">AUTHJWT1.ISSUER=&lt;issuer&gt;</span></li><li><span style="color: rgb(0,0,0);">AUTHJWT1.CLAIM.NAME=groups</span></li><li><span style="color: rgb(0,0,0);">AUTHJWT1.CLAIM.VALUE=SignServer-users</span></li></ul><p><span style="color: rgb(0,0,0);">This allows access to the request which provides a token of type (<code>typ</code>) JWT, with a valid (and not expired) signature that:</span></p><ul><li><span style="color: rgb(0,0,0);"> Can be verified by the public key configured with that issuer name/URI.</span></li><li><span style="color: rgb(0,0,0);">Contains a claim named "groups, that</span><span style="color: rgb(0,0,0);"> either has the value <strong>SignServer-users</strong> or contains a list of values including that value.</span></li></ul><p><span style="color: rgb(0,0,0);">It is also possible to configure a list of accepted audiences that are checked against the intended audiences from the claim of the token (if present). If the token has an audience, it must match a configured audience. If the audiences do not match, the request is not authorized.</span></p><ul><li><span style="color: rgb(0,0,0);">ACCEPTED_AUDIENCES=&lt;comma-separated list of audience names&gt;</span></li></ul><p><span style="color: rgb(0,0,0);">You can optionally remove the requirement to specify type=JWT in the header by setting OPTIONAL_TYPE to true, which allows type to be omitted from the header. If OPTIONAL_TYPE is not set, it defaults to false and requires typ=JWT to be set in the header.&nbsp;</span></p><ul><li><span style="color: rgb(0,0,0);">OPTIONAL_TYPE=&lt;default:false&gt;</span></li></ul><h3 id="JWTAuthorizer-Examples" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3"><span style="color: rgb(0,0,0);">Examples</span></h3><p>The following displays an example JWT token:</p><div class="scroll-code scroll-highlighted-code-block" data-title="Base 64-encoded" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="title">Base 64-encoded</div><div class="defaultnew content" data-title="Base 64-encoded">
<div class="line"><code class="plain">eyJraWQiOiJqd3Qua2V5IiwidHlwIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJ1c2VyMSIsInVwbiI6ImR1a2UiLCJhdXRoX3RpbWUiOjE1ODM4MzAwMzcsImlzcyI6Im15LWF1dGgtc2VydmVyIiwiZ3JvdXBzIjpbInN0YWZmIiwiU2lnblNlcnZlci11c2VycyIsInJlbGVhc2UtbWFuYWdlcnMiLCJtYWlsdXNlcnMiXSwiZXhwIjoxNTgzODMxMDM3LCJpYXQiOjE1ODM4MzAwMzcsImp0aSI6IjQyIn0.Tzy6hoLKwmiQ4C7exBaEUVjH_TK6qiY6KUJUu2QLC-52QxJRXKdBXR1t6l2JqbhWm20o_yKcgp6d4n03AyX8IUGOVul5xY5nWP4Uyn_SfWznuANCXKIf9y8a99ucO4yTEtsrAw2Hiv88LSpia768m1epUXe8_fgoFxfZr8adtRkJ2mT5evHtFwbWtUTT2r3-okuQPvmUfhBrECVKYrBwrV3JlXgXGTjSz4j3XwFfdh516EhKXY8dSn4PMG4hmcnmLNJkz59sUOSTgpwgtp8JzqGBLqtsehJGSYVFDueIDCEbljEAXNgfIbUpT7PuE1IY8VyTm792RB_u_Dq5f03TEQ</code></div>
</div>
</div><p><span style="color: rgb(0,0,0);">The following displays the header and payload for the above token:</span></p><div class="scroll-code scroll-highlighted-code-block" data-title="Header" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="title">Header</div><div class="defaultnew content" data-title="Header">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">"kid"</code><code class="plain">:</code><code class="string">"jwt.key"</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"typ"</code><code class="plain">:</code><code class="string">"JWT"</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"alg"</code><code class="plain">:</code><code class="string">"RS256"</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div><div class="scroll-code scroll-highlighted-code-block" data-title="Payload" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="title">Payload</div><div class="defaultnew content" data-title="Payload">
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain"> </code><code class="string">"sub"</code><code class="plain">:</code><code class="string">"user1"</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"upn"</code><code class="plain">:</code><code class="string">"duke"</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"auth_time"</code><code class="plain">:</code><code class="value">1583830037</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"iss"</code><code class="plain">:</code><code class="string">"my-auth-server"</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"groups"</code><code class="plain">: [</code></div>
<div class="line"><code class="plain">    </code><code class="string">"staff"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"SignServer-users"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"release-managers"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">    </code><code class="string">"mailusers"</code></div>
<div class="line"><code class="plain">  ],</code></div>
<div class="line"><code class="plain"> </code><code class="string">"exp"</code><code class="plain">:</code><code class="value">1583831037</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"iat"</code><code class="plain">:</code><code class="value">1583830037</code><code class="plain">,</code></div>
<div class="line"><code class="plain"> </code><code class="string">"jti"</code><code class="plain">:</code><code class="string">"42"</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
</div><p><span style="color: rgb(0,0,0);">The following displays an example (using curl) that sends a request authenticating using JWT:</span></p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">$ curl -H </code><code class="string">"Authorization: Bearer eyJraWQiOiJqd3Qua2V5IiwidHlwIjoiSldUIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJ1c2VyMSIsInVwbiI6ImR1a2UiLCJhdXRoX3RpbWUiOjE1ODM4MzAwMzcsImlzcyI6Im15LWF1dGgtc2VydmVyIiwiZ3JvdXBzIjpbInN0YWZmIiwiU2lnblNlcnZlci11c2VycyIsInJlbGVhc2UtbWFuYWdlcnMiLCJtYWlsdXNlcnMiXSwiZXhwIjoxNTgzODMxMDM3LCJpYXQiOjE1ODM4MzAwMzcsImp0aSI6IjQyIn0.Tzy6hoLKwmiQ4C7exBaEUVjH_TK6qiY6KUJUu2QLC-52QxJRXKdBXR1t6l2JqbhWm20o_yKcgp6d4n03AyX8IUGOVul5xY5nWP4Uyn_SfWznuANCXKIf9y8a99ucO4yTEtsrAw2Hiv88LSpia768m1epUXe8_fgoFxfZr8adtRkJ2mT5evHtFwbWtUTT2r3-okuQPvmUfhBrECVKYrBwrV3JlXgXGTjSz4j3XwFfdh516EhKXY8dSn4PMG4hmcnmLNJkz59sUOSTgpwgtp8JzqGBLqtsehJGSYVFDueIDCEbljEAXNgfIbUpT7PuE1IY8VyTm792RB_u_Dq5f03TEQ"</code><code class="plain"> --data </code><code class="string">"data=&lt;document/&gt;"</code><code class="plain"> https:</code><code class="comments">//sign.example.com/signserver/worker/XMLSigner</code></div>
</div>
</div><h2 id="JWTAuthorizer-Logging" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Logging</h2><p>If the request is allowed, the provided subject claim <code>(sub)</code> is logged in the AUTHORIZED_USERNAME field.</p>
                        </div>
                    </section>

                </article>
            </main>


                <nav class="exp-post-navigation-prev">
                    <a href="Cookie_Authorizer.html" class="post-navigation-link">
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-prev">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                        <span>Cookie Authorizer</span>
                    </a>
                </nav>

                <nav class="exp-post-navigation-next">

                    <a href="Signed_Request_Authorizer.html" class="post-navigation-link">
                        <span>Signed Request Authorizer</span>
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-next">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                    </a>

                </nav>


            <nav class="exp-sidebar-toc js-tocBot">
                <!-- content generated by toc.js  -->
            </nav>

            <div class="exp-sidebar-navigation-toggle">
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
            </div>

            <div class="exp-scroll-to-top-container">
                <a href="#JWTAuthorizer-top" class="exp-scroll-to-top-link">↑ Back to top</a>
            </div>

        </div>



<dialog class="exp-lightbox-container" aria-modal="true">
    <div class="lightbox-toolbar">
        <button type="button" class="exp-lightbox-close">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                <path fill="currentColor" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
            </svg>
        </button>
    </div>
    <div class="lightbox-content content">
    </div>
</dialog>

<template id="exp-lightbox-wrapper-template">
    <div class="exp-lightbox-wrapper">
        <div class="exp-lightbox-toggle">
            <button type="button" class="exp-lightbox-close">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                    <path fill="currentColor" d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z" />
                </svg>
            </button>
        </div>
    </div>
</template>

        <script src="js/tocbot.min.js"></script>
        <script src="js/article-toc.js"></script>
        <script src="js/app.js"></script>
        <script src="js/mobile.js"></script>
        <script src="js/iframe-resizer.parent.js"></script>

    </body>

</html>